# 스토리지

<br />
<br />

## 쿠키

<br />

**웹 브라우저 상에 작은 ‘텍스트 파일’로 저장이 되는 만료 기간이 존재하는 저장소를 의미** <br />

- ‘Cookie-name : Cookie-value’ 형태의 저장소 구조
- Cookie-value는 문자열 형태만 가지며, 최대 4KB의 제한 용량
- 쿠키는 특정 시간 초과 후에 데이터를 무효화하는 것을 권장하기에 만료기간이 존재!!
- 쿠키는 클라이언트가 서버에 접속한 방문 정보를 클라이언트에 저장하기에 매번 서버 전송이 되기에 자원 소모가 발생

- 쿠키의 사용처

1. 로그인 화면에서 ‘아이디 자동완성’ 기능
2. 팝업 화면에서 ‘오늘 하루 보지 않기' 기능
3. 미 로그인 상태에서 ‘장바구니 담기’ 기능

<br />
<br />

## 로컬 스토리지

<br />

**만료기간이 존재하지 않으며 페이지를 변경하거나 브라우저를 닫아도 반영구적으로 유지되는 저장소 값을 의미** <br />

- ‘Key : Value’ 형태의 저장소 구조
- ‘Value’는 문자열 형태만 가지며, 브라우저마다 상이하지만 최대 모바일은 2.5KB, 데스크톱은 약 5 ~ 10KB의 제한 용량
- 로컬 스토리지는 반영구적으로 브라우저를 종료하거나 OS를 종료해도 유지되며, 강제적으로 삭제나 초기화를 할 때만 사라짐
- 로컬 스토리지는 서버에 전송되지 않고 클라이언트 내에서만 유효(상대적인 자원 소모가 적다)
- 로컬 스토리지는 동일한 도메인 내에서만 유효하며, 다른 도메인에서는 유효하지 않음

- 로컬 스토리지의 사용처

1. 로그인 화면에서 ‘자동 로그인' 기능

<br />
<br />

## 세션 스토리지

**브라우저의 탭 안에 유효한 저장소이며, 브라우저를 닫는 경우 소멸이 되는 저장소** <br />

- ‘Key : Value’ 형태의 저장소 구조
- ‘Value’는 문자열 형태만 가지며, 브라우저마다 상이하지만 최대 모바일은 2.5KB, 데스크톱은 약 5 ~ 10KB의 제한
- 세션 스토리지는 브라우저를 종료하거나 OS를 종료하면 사라지고 새로고침이나 브라우저 탭이 유지될 때에만 해당 저장소가 유지
- 세션 스토리지는 서버에 전송되지 않고 클라이언트 내에서만 유효(상대적인 자원 소모가 적다)
- 세션 스토리지는 동일한 도메인과 탭에서만 유효하며, 다른 도메인 혹은 브라우저 내에서는 유효하지 않음

- 세션 스토리지의 사용처

1. 임시로 유지되는 입력 폼 정보
2. 일회성 로그인

<br />
<br />

## 이용

1. 쿠키에 나에 대한 정보를 담아서 서버로 보내면 서버는 쿠키를 읽어서 내가 누군지 파악
2. 쿠키는 처음부터 서버와 클라이언트 간의 지속적인 데이터 교환을 위해 만들어졌기 때문에 서버로 계속 전송됨 <br />

3. 문제는!!!(내가만든쿠키~~)! 만약 4kb 용량 제한을 거의 다 채운 쿠키가 있다면, 요청을 할 때마다 기본 4kb의 데이터를 사용한다.
4. 4kb 중에는 서버에 필요하지 않은 데이터들도 있는데... 데이터 낭비가 발생함<br />

5. 바로 그런 데이터들을 이제 로컬 스토리지와 세션 스토리지에 저장할 수 있다. 이 두 저장소의 데이터는 서버로 자동 전송되지 않는다!! <br />
6. 따라서.. 각각에 따른 쓰임새가 있는 만큼 목적에 따라 잘 선택해서 사용하면 된다.

<br />
<br />
<br />

## 출처

> https://adjh54.tistory.com/57

> https://www.zerocho.com/category/HTML&DOM/post/5918515b1ed39f00182d3048
